{"mappings":"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","sources":["src/assets/js/index.js"],"sourcesContent":["let players = {\r\n  player1: {\r\n    player: 1,\r\n    score: null,\r\n    held: 0,\r\n  },\r\n  player2: {\r\n    player: 2,\r\n    score: null,\r\n    held: 0,\r\n  },\r\n};\r\n\r\n// Game code\r\nconst rollBtn = document.querySelector(\"#rollDice\");\r\nconst holdBtn = document.querySelector(\"#hold\");\r\nconst newGameBtn = document.querySelector(\"#newGame\");\r\nconst dice = document.querySelector(\".dice\");\r\n\r\n// Player variables\r\nconst player1 = players.player1;\r\nconst player1Area = document.querySelector(\"#player1\");\r\nconst player2 = players.player2;\r\nconst player2Area = document.querySelector(\"#player2\");\r\n\r\n// Define player1 as default player\r\nlet currentPlayer = player1;\r\nlet ScoreEl = player1Area.querySelector(\"#playerScore\");\r\nlet CurrentEl = player1Area.querySelector(\"#currentScore\");\r\nlet activePlayer = player1Area.querySelector(\".activePlayer\");\r\nlet wins = player1Area.querySelector(\"#wins\");\r\n\r\nconsole.log(activePlayer);\r\n\r\nfunction rollDice() {\r\n  let sides = 6;\r\n  let roll = Math.floor(Math.random() * sides) + 1;\r\n  let score = currentPlayer.score;\r\n  let newScore = Number(score) + Number(roll);\r\n\r\n  animateValue(dice, 8, roll, 150);\r\n  dice.innerHTML = roll;\r\n\r\n  // Loosing scenario\r\n  if (roll == 1) {\r\n    resetScore(currentPlayer.held);\r\n    ScoreEl.classList.add(\"error-animation\");\r\n    setTimeout(() => {\r\n      ScoreEl.classList.remove(\"error-animation\");\r\n    }, 750);\r\n    switchPlayer();\r\n    return;\r\n  }\r\n\r\n  // Winning scenario\r\n  if (newScore >= 50) {\r\n    wins.innerText += \"ðŸŒŸ \";\r\n    rollBtn.setAttribute(\"disabled\", \"\");\r\n    holdBtn.setAttribute(\"disabled\", \"\");\r\n    newGameBtn.classList.remove(\"hide\");\r\n    rollBtn.classList.add(\"hide\");\r\n    holdBtn.classList.add(\"hide\");\r\n  }\r\n  updateScore(newScore);\r\n}\r\n\r\nfunction resetScore(held) {\r\n  ScoreEl.innerText = held;\r\n  updateScore(held);\r\n}\r\n\r\nfunction totalResetScore() {\r\n  let reset = 0;\r\n  ScoreEl.innerText = reset;\r\n  currentPlayer.held = reset;\r\n  CurrentEl.innerText = reset;\r\n  updateScore(reset);\r\n}\r\n\r\nfunction updateScore(newScore) {\r\n  currentPlayer.score = newScore;\r\n  ScoreEl.innerText = currentPlayer.score;\r\n}\r\n\r\n// Change the current player, and switch to their game board\r\nfunction switchPlayer() {\r\n  activePlayer.classList.remove(\"active\");\r\n\r\n  switch (currentPlayer.player) {\r\n    case 1:\r\n      currentPlayer = player2;\r\n      ScoreEl = player2Area.querySelector(\"#playerScore\");\r\n      CurrentEl = player2Area.querySelector(\"#currentScore\");\r\n      activePlayer = player2Area.querySelector(\".activePlayer\");\r\n      activePlayer.classList.add(\"active\");\r\n      wins = player2Area.querySelector(\"#wins\");\r\n      break;\r\n    case 2:\r\n      currentPlayer = player1;\r\n      ScoreEl = player1Area.querySelector(\"#playerScore\");\r\n      CurrentEl = player1Area.querySelector(\"#currentScore\");\r\n      activePlayer = player1Area.querySelector(\".activePlayer\");\r\n      activePlayer.classList.add(\"active\");\r\n      wins = player1Area.querySelector(\"#wins\");\r\n      break;\r\n  }\r\n}\r\n\r\nfunction holdScore() {\r\n  switch (currentPlayer.player) {\r\n    case 1:\r\n      player1.held = player1.score;\r\n      CurrentEl.innerText = player1.held;\r\n      break;\r\n    case 2:\r\n      player2.held = player2.score;\r\n      CurrentEl.innerText = player2.held;\r\n      break;\r\n  }\r\n  switchPlayer();\r\n}\r\n\r\nfunction newGame() {\r\n  totalResetScore();\r\n  switchPlayer();\r\n  totalResetScore();\r\n  switchPlayer();\r\n  rollBtn.removeAttribute(\"disabled\");\r\n  holdBtn.removeAttribute(\"disabled\");\r\n  newGameBtn.classList.add(\"hide\");\r\n  rollBtn.classList.remove(\"hide\");\r\n  holdBtn.classList.remove(\"hide\");\r\n}\r\n\r\nrollBtn.addEventListener(\"click\", rollDice);\r\nholdBtn.addEventListener(\"click\", holdScore);\r\nnewGameBtn.addEventListener(\"click\", newGame);\r\n\r\n// Accordion code\r\nconst acc = document.querySelectorAll(\".accordion\");\r\n\r\nacc.forEach((accordion) => {\r\n  accordion.addEventListener(\"click\", function () {\r\n    this.classList.toggle(\"active\");\r\n\r\n    let panel = this.nextElementSibling;\r\n    if (panel.style.display === \"block\") {\r\n      panel.style.display = \"none\";\r\n    } else {\r\n      panel.style.display = \"block\";\r\n    }\r\n  });\r\n});\r\n\r\n// Animate dice\r\nfunction animateValue(obj, start, end, duration) {\r\n  let startTimestamp = null;\r\n  const step = (timestamp) => {\r\n    if (!startTimestamp) startTimestamp = timestamp;\r\n    const progress = Math.min((timestamp - startTimestamp) / duration, 1);\r\n    obj.innerHTML = Math.floor(progress * (end - start) + start);\r\n    if (progress < 1) {\r\n      window.requestAnimationFrame(step);\r\n    }\r\n  };\r\n  window.requestAnimationFrame(step);\r\n}\r\n"],"names":["$ab36b126d6b0f36b$var$players","player","score","held","$ab36b126d6b0f36b$var$rollBtn","document","querySelector","$ab36b126d6b0f36b$var$holdBtn","$ab36b126d6b0f36b$var$newGameBtn","$ab36b126d6b0f36b$var$dice","$ab36b126d6b0f36b$var$player1","$ab36b126d6b0f36b$var$player1Area","$ab36b126d6b0f36b$var$player2","$ab36b126d6b0f36b$var$player2Area","$ab36b126d6b0f36b$var$currentPlayer","$ab36b126d6b0f36b$var$ScoreEl","$ab36b126d6b0f36b$var$CurrentEl","$ab36b126d6b0f36b$var$activePlayer","$ab36b126d6b0f36b$var$wins","$ab36b126d6b0f36b$var$totalResetScore","innerText","$ab36b126d6b0f36b$var$updateScore","newScore","$ab36b126d6b0f36b$var$switchPlayer","classList","remove","add","console","log","addEventListener","roll","Math","floor","random","Number","obj","start","end","duration","startTimestamp","step","timestamp","progress","min","innerHTML","window","requestAnimationFrame","$ab36b126d6b0f36b$var$animateValue","setTimeout","setAttribute","removeAttribute","querySelectorAll","forEach","accordion","this","toggle","panel","nextElementSibling","style","display"],"version":3,"file":"index.a87acac9.js.map"}